const a13_0xb1733b=a13_0x46de;function a13_0x14fc(){const _0x377c80=['DATABASE_URL','40ZnJBnk','5416722bajQoG','connect','2423810tpqSkS','63zroBuG','\x20a\x20été\x20réinitialisé\x20à\x200.','rows','12VTLolT','103870NrqHoo','warn_count','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27utilisateur\x20:','1445965WcNtRc','Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27warn_users\x27:','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20warn_count\x20:','release','../set','4bitFGS','exports','574554gjCuDZ','4992647lSmBbk','Utilisateur\x20','error','UPDATE\x20warn_users\x20SET\x20warn_count\x20=\x200\x20WHERE\x20jid\x20=\x20$1','SELECT\x20warn_count\x20FROM\x20warn_users\x20WHERE\x20jid\x20=\x20$1','dotenv','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20warn_users\x20(jid,\x20warn_count)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(jid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20warn_count\x20=\x20warn_users.warn_count\x20+\x201;\x0a\x20\x20\x20\x20\x20\x20','Le\x20warn_count\x20de\x20l\x27utilisateur\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20warn_users\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20warn_count\x20integer\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20','query','3267423GfdzyP','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','Erreur\x20lors\x20de\x20la\x20réinitialisation\x20du\x20warn_count\x20:','4kXUCVP'];a13_0x14fc=function(){return _0x377c80;};return a13_0x14fc();}(function(_0x3a5935,_0x236719){const _0x43c4d7=a13_0x46de,_0xbc4ff=_0x3a5935();while(!![]){try{const _0x10e4c7=parseInt(_0x43c4d7(0x84))/0x1*(parseInt(_0x43c4d7(0x7c))/0x2)+parseInt(_0x43c4d7(0x98))/0x3+-parseInt(_0x43c4d7(0x95))/0x4*(parseInt(_0x43c4d7(0x7f))/0x5)+parseInt(_0x43c4d7(0x86))/0x6*(parseInt(_0x43c4d7(0x78))/0x7)+parseInt(_0x43c4d7(0x97))/0x8*(-parseInt(_0x43c4d7(0x92))/0x9)+-parseInt(_0x43c4d7(0x77))/0xa+-parseInt(_0x43c4d7(0x87))/0xb*(-parseInt(_0x43c4d7(0x7b))/0xc);if(_0x10e4c7===_0x236719)break;else _0xbc4ff['push'](_0xbc4ff['shift']());}catch(_0x7e4986){_0xbc4ff['push'](_0xbc4ff['shift']());}}}(a13_0x14fc,0xefcc5),require(a13_0xb1733b(0x8c))['config']());const {Pool}=require('pg'),s=require(a13_0xb1733b(0x83));var dbUrl=s[a13_0xb1733b(0x96)]?s[a13_0xb1733b(0x96)]:a13_0xb1733b(0x93);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function creerTableWarnUsers(){const _0x447196=a13_0xb1733b,_0x565e36=await pool['connect']();try{const _0x4bc1ec=_0x447196(0x90);await _0x565e36['query'](_0x4bc1ec),console[_0x447196(0x8d)]('La\x20table\x20\x27warn_users\x27\x20a\x20été\x20créée\x20avec\x20succès.');}catch(_0x385852){console['error'](_0x447196(0x80),_0x385852);}finally{_0x565e36[_0x447196(0x82)]();}}function a13_0x46de(_0x10a9ac,_0x49667b){const _0x14fc21=a13_0x14fc();return a13_0x46de=function(_0x46dee5,_0x320035){_0x46dee5=_0x46dee5-0x77;let _0x189a93=_0x14fc21[_0x46dee5];return _0x189a93;},a13_0x46de(_0x10a9ac,_0x49667b);};creerTableWarnUsers();async function ajouterUtilisateurAvecWarnCount(_0x242f3c){const _0x2a101a=a13_0xb1733b,_0x16023c=await pool[_0x2a101a(0x99)]();try{const _0x2abdf8=_0x2a101a(0x8e),_0x562639=[_0x242f3c];await _0x16023c[_0x2a101a(0x91)](_0x2abdf8,_0x562639),console[_0x2a101a(0x8d)](_0x2a101a(0x88)+_0x242f3c+'\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20un\x20warn_count\x20de\x201.');}catch(_0x2786e7){console[_0x2a101a(0x89)](_0x2a101a(0x7e),_0x2786e7);}finally{_0x16023c[_0x2a101a(0x82)]();}};async function getWarnCountByJID(_0x456ca8){const _0x3b6975=a13_0xb1733b,_0x3daf85=await pool[_0x3b6975(0x99)]();try{const _0x7723c1=_0x3b6975(0x8b),_0x597b56=[_0x456ca8],_0x30c572=await _0x3daf85['query'](_0x7723c1,_0x597b56);if(_0x30c572[_0x3b6975(0x7a)]['length']>0x0){const _0x395a0b=_0x30c572[_0x3b6975(0x7a)][0x0][_0x3b6975(0x7d)];return _0x395a0b;}else return 0x0;}catch(_0x342d06){return console[_0x3b6975(0x89)](_0x3b6975(0x81),_0x342d06),-0x1;}finally{_0x3daf85['release']();}};async function resetWarnCountByJID(_0x4166e1){const _0x76f247=a13_0xb1733b,_0x543255=await pool[_0x76f247(0x99)]();try{const _0x1749d9=_0x76f247(0x8a),_0x2674cf=[_0x4166e1];await _0x543255['query'](_0x1749d9,_0x2674cf),console[_0x76f247(0x8d)](_0x76f247(0x8f)+_0x4166e1+_0x76f247(0x79));}catch(_0x488627){console[_0x76f247(0x89)](_0x76f247(0x94),_0x488627);}finally{_0x543255['release']();}}module[a13_0xb1733b(0x85)]={'ajouterUtilisateurAvecWarnCount':ajouterUtilisateurAvecWarnCount,'getWarnCountByJID':getWarnCountByJID,'resetWarnCountByJID':resetWarnCountByJID};