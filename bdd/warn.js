const a13_0x394c5e=a13_0x1865;(function(_0x4cdfa7,_0x157649){const _0x354218=a13_0x1865,_0x38708f=_0x4cdfa7();while(!![]){try{const _0x1f5259=-parseInt(_0x354218(0x92))/0x1*(-parseInt(_0x354218(0x82))/0x2)+-parseInt(_0x354218(0x8b))/0x3+parseInt(_0x354218(0x80))/0x4+parseInt(_0x354218(0x79))/0x5*(-parseInt(_0x354218(0x7c))/0x6)+parseInt(_0x354218(0x81))/0x7+-parseInt(_0x354218(0x8a))/0x8+parseInt(_0x354218(0x7d))/0x9;if(_0x1f5259===_0x157649)break;else _0x38708f['push'](_0x38708f['shift']());}catch(_0x4fba12){_0x38708f['push'](_0x38708f['shift']());}}}(a13_0x4bce,0xcfc42),require('dotenv')['config']());const {Pool}=require('pg'),s=require(a13_0x394c5e(0x83));var dbUrl=s[a13_0x394c5e(0x84)]?s[a13_0x394c5e(0x84)]:a13_0x394c5e(0x90);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function creerTableWarnUsers(){const _0x2bf01b=a13_0x394c5e,_0x4ed1d9=await pool[_0x2bf01b(0x7e)]();try{const _0x410801='\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20warn_users\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20warn_count\x20integer\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20';await _0x4ed1d9[_0x2bf01b(0x7f)](_0x410801),console['log'](_0x2bf01b(0x95));}catch(_0x2fd66a){console['error']('Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27warn_users\x27:',_0x2fd66a);}finally{_0x4ed1d9[_0x2bf01b(0x8e)]();}};creerTableWarnUsers();async function ajouterUtilisateurAvecWarnCount(_0x57fd1b){const _0x433fba=a13_0x394c5e,_0x94667a=await pool[_0x433fba(0x7e)]();try{const _0x3452ca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20warn_users\x20(jid,\x20warn_count)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(jid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20warn_count\x20=\x20warn_users.warn_count\x20+\x201;\x0a\x20\x20\x20\x20\x20\x20',_0x3150e9=[_0x57fd1b];await _0x94667a[_0x433fba(0x7f)](_0x3452ca,_0x3150e9),console['log'](_0x433fba(0x88)+_0x57fd1b+_0x433fba(0x86));}catch(_0x167851){console['error'](_0x433fba(0x8d),_0x167851);}finally{_0x94667a[_0x433fba(0x8e)]();}};function a13_0x4bce(){const _0x3e9591=['Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20warn_count\x20:','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27utilisateur\x20:','release','UPDATE\x20warn_users\x20SET\x20warn_count\x20=\x200\x20WHERE\x20jid\x20=\x20$1','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','SELECT\x20warn_count\x20FROM\x20warn_users\x20WHERE\x20jid\x20=\x20$1','23039NoRmeO','rows','\x20a\x20été\x20réinitialisé\x20à\x200.','La\x20table\x20\x27warn_users\x27\x20a\x20été\x20créée\x20avec\x20succès.','905ssABED','warn_count','Le\x20warn_count\x20de\x20l\x27utilisateur\x20','31398SQwDHE','2635029EyiKBi','connect','query','761008DgYViP','3417260ijKVLd','118hkpXIg','../set','DATABASE_URL','Erreur\x20lors\x20de\x20la\x20réinitialisation\x20du\x20warn_count\x20:','\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20un\x20warn_count\x20de\x201.','length','Utilisateur\x20','error','2411872KUFlnY','692541JyhGiw'];a13_0x4bce=function(){return _0x3e9591;};return a13_0x4bce();}async function getWarnCountByJID(_0x253cd3){const _0x5ebb66=a13_0x394c5e,_0x59bfe7=await pool[_0x5ebb66(0x7e)]();try{const _0x2d660c=_0x5ebb66(0x91),_0x4bcdc3=[_0x253cd3],_0x6f7a13=await _0x59bfe7['query'](_0x2d660c,_0x4bcdc3);if(_0x6f7a13[_0x5ebb66(0x93)][_0x5ebb66(0x87)]>0x0){const _0x54562b=_0x6f7a13[_0x5ebb66(0x93)][0x0][_0x5ebb66(0x7a)];return _0x54562b;}else return 0x0;}catch(_0x15cdb6){return console[_0x5ebb66(0x89)](_0x5ebb66(0x8c),_0x15cdb6),-0x1;}finally{_0x59bfe7[_0x5ebb66(0x8e)]();}}function a13_0x1865(_0x3a7c39,_0x2cd591){const _0x4bceea=a13_0x4bce();return a13_0x1865=function(_0x1865c6,_0x117988){_0x1865c6=_0x1865c6-0x79;let _0x169bb2=_0x4bceea[_0x1865c6];return _0x169bb2;},a13_0x1865(_0x3a7c39,_0x2cd591);};async function resetWarnCountByJID(_0x5b34c8){const _0x472209=a13_0x394c5e,_0x30c452=await pool[_0x472209(0x7e)]();try{const _0x5199b4=_0x472209(0x8f),_0xde9230=[_0x5b34c8];await _0x30c452['query'](_0x5199b4,_0xde9230),console['log'](_0x472209(0x7b)+_0x5b34c8+_0x472209(0x94));}catch(_0x2ef1a4){console[_0x472209(0x89)](_0x472209(0x85),_0x2ef1a4);}finally{_0x30c452[_0x472209(0x8e)]();}}module['exports']={'ajouterUtilisateurAvecWarnCount':ajouterUtilisateurAvecWarnCount,'getWarnCountByJID':getWarnCountByJID,'resetWarnCountByJID':resetWarnCountByJID};