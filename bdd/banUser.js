const a5_0x5c5016=a5_0xb6ca;(function(_0x4e8518,_0x553259){const _0x1de57a=a5_0xb6ca,_0x24d657=_0x4e8518();while(!![]){try{const _0x2f89ba=-parseInt(_0x1de57a(0x159))/0x1+-parseInt(_0x1de57a(0x14a))/0x2*(-parseInt(_0x1de57a(0x151))/0x3)+parseInt(_0x1de57a(0x156))/0x4*(-parseInt(_0x1de57a(0x145))/0x5)+-parseInt(_0x1de57a(0x146))/0x6+-parseInt(_0x1de57a(0x15a))/0x7*(-parseInt(_0x1de57a(0x15d))/0x8)+parseInt(_0x1de57a(0x147))/0x9+parseInt(_0x1de57a(0x15b))/0xa;if(_0x2f89ba===_0x553259)break;else _0x24d657['push'](_0x24d657['shift']());}catch(_0x17b0d2){_0x24d657['push'](_0x24d657['shift']());}}}(a5_0x157f,0xbac53),require('dotenv')[a5_0x5c5016(0x15f)]());const {Pool}=require('pg'),s=require('../set');var dbUrl=s[a5_0x5c5016(0x158)]?s[a5_0x5c5016(0x158)]:a5_0x5c5016(0x152);function a5_0x157f(){const _0x562e59=['rows','833368rKlBHQ','DELETE\x20FROM\x20banUser\x20WHERE\x20jid\x20=\x20$1','config','La\x20table\x20\x27banUser\x27\x20a\x20été\x20créée\x20avec\x20succès.','858405wPsZjo','5119068LHPfxj','13640859TqfFBD','Erreur\x20lors\x20de\x20l\x27ajout\x20de\x20l\x27utilisateur\x20banni\x20:','Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20l\x27utilisateur\x20banni\x20:','7392BmMOfk','query','error','log','JID\x20','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20banUser\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20','INSERT\x20INTO\x20banUser\x20(jid)\x20VALUES\x20($1)','165AylbcY','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','connect','\x20supprimé\x20de\x20la\x20liste\x20des\x20bannis.','SELECT\x20EXISTS\x20(SELECT\x201\x20FROM\x20banUser\x20WHERE\x20jid\x20=\x20$1)','12NUDImR','release','DATABASE_URL','217187HZwpZj','35zIrnWd','1106330ARmUXX'];a5_0x157f=function(){return _0x562e59;};return a5_0x157f();}function a5_0xb6ca(_0x2b2687,_0x228281){const _0x157f94=a5_0x157f();return a5_0xb6ca=function(_0xb6ca55,_0x5dd251){_0xb6ca55=_0xb6ca55-0x145;let _0xe05893=_0x157f94[_0xb6ca55];return _0xe05893;},a5_0xb6ca(_0x2b2687,_0x228281);}const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig),creerTableBanUser=async()=>{const _0xa4648=a5_0x5c5016;try{await pool[_0xa4648(0x14b)](_0xa4648(0x14f)),console[_0xa4648(0x14d)](_0xa4648(0x160));}catch(_0x5a6ce2){console[_0xa4648(0x14c)]('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27banUser\x27:',_0x5a6ce2);}};creerTableBanUser();async function addUserToBanList(_0x1ee894){const _0x26eacc=a5_0x5c5016,_0x5f3564=await pool[_0x26eacc(0x153)]();try{const _0x1aeb76=_0x26eacc(0x150),_0x5125c1=[_0x1ee894];await _0x5f3564['query'](_0x1aeb76,_0x5125c1),console[_0x26eacc(0x14d)](_0x26eacc(0x14e)+_0x1ee894+'\x20ajouté\x20à\x20la\x20liste\x20des\x20bannis.');}catch(_0x54b146){console[_0x26eacc(0x14c)](_0x26eacc(0x148),_0x54b146);}finally{_0x5f3564[_0x26eacc(0x157)]();}}async function isUserBanned(_0x34506a){const _0x597c61=a5_0x5c5016,_0x4e4f24=await pool[_0x597c61(0x153)]();try{const _0x448158=_0x597c61(0x155),_0x5415c0=[_0x34506a],_0x5dd096=await _0x4e4f24[_0x597c61(0x14b)](_0x448158,_0x5415c0);return _0x5dd096[_0x597c61(0x15c)][0x0]['exists'];}catch(_0x38e174){return console[_0x597c61(0x14c)](_0x597c61(0x149),_0x38e174),![];}finally{_0x4e4f24[_0x597c61(0x157)]();}}async function removeUserFromBanList(_0x57f6a4){const _0x39077d=a5_0x5c5016,_0x23cd63=await pool['connect']();try{const _0x3ed5b5=_0x39077d(0x15e),_0x35fc94=[_0x57f6a4];await _0x23cd63[_0x39077d(0x14b)](_0x3ed5b5,_0x35fc94),console['log']('JID\x20'+_0x57f6a4+_0x39077d(0x154));}catch(_0x22e08d){console[_0x39077d(0x14c)]('Erreur\x20lors\x20de\x20la\x20suppression\x20de\x20l\x27utilisateur\x20banni\x20:',_0x22e08d);}finally{_0x23cd63['release']();}}module['exports']={'addUserToBanList':addUserToBanList,'isUserBanned':isUserBanned,'removeUserFromBanList':removeUserFromBanList};