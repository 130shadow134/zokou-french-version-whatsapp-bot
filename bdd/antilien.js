const a3_0x344be1=a3_0x17f7;function a3_0x17f7(_0x7c7799,_0x3d71aa){const _0x3f281e=a3_0x3f28();return a3_0x17f7=function(_0x17f7aa,_0x4420bf){_0x17f7aa=_0x17f7aa-0x16e;let _0x41bf60=_0x3f281e[_0x17f7aa];return _0x41bf60;},a3_0x17f7(_0x7c7799,_0x3d71aa);}(function(_0x44124a,_0x535471){const _0x3b1bd8=a3_0x17f7,_0x1bc415=_0x44124a();while(!![]){try{const _0x412797=parseInt(_0x3b1bd8(0x192))/0x1*(parseInt(_0x3b1bd8(0x185))/0x2)+parseInt(_0x3b1bd8(0x17e))/0x3*(-parseInt(_0x3b1bd8(0x190))/0x4)+-parseInt(_0x3b1bd8(0x193))/0x5+-parseInt(_0x3b1bd8(0x17b))/0x6*(parseInt(_0x3b1bd8(0x17c))/0x7)+-parseInt(_0x3b1bd8(0x187))/0x8*(parseInt(_0x3b1bd8(0x176))/0x9)+-parseInt(_0x3b1bd8(0x16e))/0xa+parseInt(_0x3b1bd8(0x172))/0xb*(parseInt(_0x3b1bd8(0x189))/0xc);if(_0x412797===_0x535471)break;else _0x1bc415['push'](_0x1bc415['shift']());}catch(_0x91de52){_0x1bc415['push'](_0x1bc415['shift']());}}}(a3_0x3f28,0x9f1f1),require(a3_0x344be1(0x186))[a3_0x344be1(0x173)]());const {Pool}=require('pg');function a3_0x3f28(){const _0x56af87=['rows','supp','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27action\x20pour\x20le\x20JID\x20dans\x20la\x20table\x20\x20:','DATABASE_URL','oui','error','12169020sQmASf','length','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20l\x27état\x20du\x20JID\x20dans\x20la\x20table\x20','8844FeXgDN','config','../set','\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès\x20dans\x20la\x20table\x20\x27antilien\x27.','1094481bXsmps','release','log','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20du\x20JID\x20dans\x20la\x20table\x20,','query','571164nVRLWS','42BjCQib','SELECT\x20action\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','638580iHEQxV','non','SELECT\x20*\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','La\x20table\x20\x27antilien\x27\x20a\x20été\x20créée\x20avec\x20succès.','exports','UPDATE\x20antilien\x20SET\x20etat\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20antilien\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20action\x20text\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20','91964fsZzxC','dotenv','40EitOgV','\x20dans\x20la\x20table\x20\x27antilien\x27.','63696ukHfHH','action','connect','SELECT\x20etat\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','UPDATE\x20antilien\x20SET\x20action\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2','etat','Action\x20mise\x20à\x20jour\x20avec\x20succès\x20pour\x20le\x20JID\x20','4sweURI','INSERT\x20INTO\x20antilien\x20(jid,\x20etat,\x20action)\x20VALUES\x20($1,\x20$2,\x20$3)','5VBTmtZ','6184050jAPIHh'];a3_0x3f28=function(){return _0x56af87;};return a3_0x3f28();}let s=require(a3_0x344be1(0x174));var dbUrl=s[a3_0x344be1(0x197)]?s[a3_0x344be1(0x197)]:a3_0x344be1(0x170);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function createAntilienTable(){const _0x88ecb4=a3_0x344be1,_0x49aaf1=await pool[_0x88ecb4(0x18b)]();try{await _0x49aaf1[_0x88ecb4(0x17a)](_0x88ecb4(0x184)),console['log'](_0x88ecb4(0x181));}catch(_0x224914){console[_0x88ecb4(0x199)]('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27antilien\x27:',_0x224914);}finally{_0x49aaf1[_0x88ecb4(0x177)]();}}createAntilienTable();async function ajouterOuMettreAJourJid(_0x48bfdc,_0x50251a){const _0x4dfb91=a3_0x344be1,_0x3d4973=await pool['connect']();try{const _0x31b419=await _0x3d4973[_0x4dfb91(0x17a)](_0x4dfb91(0x180),[_0x48bfdc]),_0x563092=_0x31b419[_0x4dfb91(0x194)][_0x4dfb91(0x16f)]>0x0;_0x563092?await _0x3d4973[_0x4dfb91(0x17a)](_0x4dfb91(0x183),[_0x50251a,_0x48bfdc]):await _0x3d4973[_0x4dfb91(0x17a)](_0x4dfb91(0x191),[_0x48bfdc,_0x50251a,_0x4dfb91(0x195)]),console[_0x4dfb91(0x178)]('JID\x20'+_0x48bfdc+_0x4dfb91(0x175));}catch(_0x480363){console[_0x4dfb91(0x199)](_0x4dfb91(0x179),_0x480363);}finally{_0x3d4973[_0x4dfb91(0x177)]();}};async function mettreAJourAction(_0x16c2d2,_0x1888d0){const _0x237e9b=a3_0x344be1,_0x33237e=await pool['connect']();try{const _0x487f0f=await _0x33237e['query'](_0x237e9b(0x180),[_0x16c2d2]),_0x169283=_0x487f0f['rows']['length']>0x0;_0x169283?await _0x33237e[_0x237e9b(0x17a)](_0x237e9b(0x18d),[_0x1888d0,_0x16c2d2]):await _0x33237e['query'](_0x237e9b(0x191),[_0x16c2d2,_0x237e9b(0x17f),_0x1888d0]),console[_0x237e9b(0x178)](_0x237e9b(0x18f)+_0x16c2d2+_0x237e9b(0x188));}catch(_0x33e83b){console[_0x237e9b(0x199)](_0x237e9b(0x196),_0x33e83b);}finally{_0x33237e[_0x237e9b(0x177)]();}};async function verifierEtatJid(_0x30180d){const _0x5f8e69=a3_0x344be1,_0x392a33=await pool[_0x5f8e69(0x18b)]();try{const _0x246086=await _0x392a33[_0x5f8e69(0x17a)](_0x5f8e69(0x18c),[_0x30180d]);if(_0x246086[_0x5f8e69(0x194)][_0x5f8e69(0x16f)]>0x0){const _0x309f84=_0x246086[_0x5f8e69(0x194)][0x0][_0x5f8e69(0x18e)];return _0x309f84===_0x5f8e69(0x198);}else return![];}catch(_0x510833){return console[_0x5f8e69(0x199)](_0x5f8e69(0x171),_0x510833),![];}finally{_0x392a33[_0x5f8e69(0x177)]();}};async function recupererActionJid(_0x3f8184){const _0x58c408=a3_0x344be1,_0x5835ca=await pool[_0x58c408(0x18b)]();try{const _0x5cfee5=await _0x5835ca[_0x58c408(0x17a)](_0x58c408(0x17d),[_0x3f8184]);if(_0x5cfee5[_0x58c408(0x194)][_0x58c408(0x16f)]>0x0){const _0x537110=_0x5cfee5[_0x58c408(0x194)][0x0][_0x58c408(0x18a)];return _0x537110;}else return _0x58c408(0x195);}catch(_0x4a3bd3){return console['error']('Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27action\x20du\x20JID\x20dans\x20la\x20table\x20:',_0x4a3bd3),'supp';}finally{_0x5835ca[_0x58c408(0x177)]();}};module[a3_0x344be1(0x182)]={'mettreAJourAction':mettreAJourAction,'ajouterOuMettreAJourJid':ajouterOuMettreAJourJid,'verifierEtatJid':verifierEtatJid,'recupererActionJid':recupererActionJid};