const a3_0x6ad859=a3_0x397b;(function(_0x45db43,_0x2e8e29){const _0x4aec60=a3_0x397b,_0x4c6c2d=_0x45db43();while(!![]){try{const _0x23190b=-parseInt(_0x4aec60(0x1b1))/0x1+parseInt(_0x4aec60(0x197))/0x2+-parseInt(_0x4aec60(0x1b0))/0x3*(parseInt(_0x4aec60(0x1a7))/0x4)+parseInt(_0x4aec60(0x199))/0x5+-parseInt(_0x4aec60(0x1af))/0x6+-parseInt(_0x4aec60(0x198))/0x7*(parseInt(_0x4aec60(0x191))/0x8)+parseInt(_0x4aec60(0x19f))/0x9;if(_0x23190b===_0x2e8e29)break;else _0x4c6c2d['push'](_0x4c6c2d['shift']());}catch(_0x24c9ae){_0x4c6c2d['push'](_0x4c6c2d['shift']());}}}(a3_0x51f9,0x8e23a),require(a3_0x6ad859(0x1a6))[a3_0x6ad859(0x1a0)]());const {Pool}=require('pg');let s=require(a3_0x6ad859(0x19a));var dbUrl=s[a3_0x6ad859(0x1a9)]?s['DATABASE_URL']:'postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9';const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function createAntilienTable(){const _0x475de6=a3_0x6ad859,_0x324cb5=await pool['connect']();try{await _0x324cb5[_0x475de6(0x190)](_0x475de6(0x19d)),console[_0x475de6(0x18e)](_0x475de6(0x1ae));}catch(_0x12f402){console[_0x475de6(0x19c)]('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27antilien\x27:',_0x12f402);}finally{_0x324cb5[_0x475de6(0x194)]();}}createAntilienTable();async function ajouterOuMettreAJourJid(_0x5c80da,_0x242f96){const _0x46a822=a3_0x6ad859,_0xe39502=await pool[_0x46a822(0x195)]();try{const _0x39bc8c=await _0xe39502[_0x46a822(0x190)]('SELECT\x20*\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1',[_0x5c80da]),_0x2591e5=_0x39bc8c[_0x46a822(0x1a2)][_0x46a822(0x192)]>0x0;_0x2591e5?await _0xe39502['query'](_0x46a822(0x1ac),[_0x242f96,_0x5c80da]):await _0xe39502[_0x46a822(0x190)](_0x46a822(0x1a8),[_0x5c80da,_0x242f96,_0x46a822(0x1ad)]),console['log'](_0x46a822(0x1a4)+_0x5c80da+_0x46a822(0x1a5));}catch(_0x287ea6){console['error'](_0x46a822(0x196),_0x287ea6);}finally{_0xe39502[_0x46a822(0x194)]();}}function a3_0x51f9(){const _0x2f9034=['Action\x20mise\x20à\x20jour\x20avec\x20succès\x20pour\x20le\x20JID\x20','14026905NeZZUa','config','SELECT\x20*\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','rows','oui','JID\x20','\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès\x20dans\x20la\x20table\x20\x27antilien\x27.','dotenv','53308EpyGvV','INSERT\x20INTO\x20antilien\x20(jid,\x20etat,\x20action)\x20VALUES\x20($1,\x20$2,\x20$3)','DATABASE_URL','SELECT\x20etat\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','action','UPDATE\x20antilien\x20SET\x20etat\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2','supp','La\x20table\x20\x27antilien\x27\x20a\x20été\x20créée\x20avec\x20succès.','971418KKbqhN','111xypuPI','225417XZpeOz','\x20dans\x20la\x20table\x20\x27antilien\x27.','non','log','etat','query','64ESdwAd','length','UPDATE\x20antilien\x20SET\x20action\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2','release','connect','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20du\x20JID\x20dans\x20la\x20table\x20,','1057568zZwDCk','934010JAZxiX','2213660JLFUMx','../set','Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20l\x27état\x20du\x20JID\x20dans\x20la\x20table\x20','error','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20antilien\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20action\x20text\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20'];a3_0x51f9=function(){return _0x2f9034;};return a3_0x51f9();};async function mettreAJourAction(_0x37c246,_0xda8f28){const _0x3f7c14=a3_0x6ad859,_0x2fe4cb=await pool[_0x3f7c14(0x195)]();try{const _0x13f92d=await _0x2fe4cb['query'](_0x3f7c14(0x1a1),[_0x37c246]),_0x56beaf=_0x13f92d[_0x3f7c14(0x1a2)][_0x3f7c14(0x192)]>0x0;_0x56beaf?await _0x2fe4cb['query'](_0x3f7c14(0x193),[_0xda8f28,_0x37c246]):await _0x2fe4cb['query']('INSERT\x20INTO\x20antilien\x20(jid,\x20etat,\x20action)\x20VALUES\x20($1,\x20$2,\x20$3)',[_0x37c246,_0x3f7c14(0x1b3),_0xda8f28]),console[_0x3f7c14(0x18e)](_0x3f7c14(0x19e)+_0x37c246+_0x3f7c14(0x1b2));}catch(_0x4f9d94){console['error']('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27action\x20pour\x20le\x20JID\x20dans\x20la\x20table\x20\x20:',_0x4f9d94);}finally{_0x2fe4cb['release']();}};async function verifierEtatJid(_0x2f10a1){const _0x165bff=a3_0x6ad859,_0x210e11=await pool[_0x165bff(0x195)]();try{const _0x1763dd=await _0x210e11[_0x165bff(0x190)](_0x165bff(0x1aa),[_0x2f10a1]);if(_0x1763dd[_0x165bff(0x1a2)][_0x165bff(0x192)]>0x0){const _0x45bebb=_0x1763dd['rows'][0x0][_0x165bff(0x18f)];return _0x45bebb===_0x165bff(0x1a3);}else return![];}catch(_0x1bc667){return console['error'](_0x165bff(0x19b),_0x1bc667),![];}finally{_0x210e11[_0x165bff(0x194)]();}};function a3_0x397b(_0x3bd41e,_0xc0a109){const _0x51f996=a3_0x51f9();return a3_0x397b=function(_0x397b79,_0x3972be){_0x397b79=_0x397b79-0x18e;let _0x4dbd81=_0x51f996[_0x397b79];return _0x4dbd81;},a3_0x397b(_0x3bd41e,_0xc0a109);}async function recupererActionJid(_0x5350cb){const _0xef6480=a3_0x6ad859,_0x36c928=await pool['connect']();try{const _0xc41410=await _0x36c928['query']('SELECT\x20action\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1',[_0x5350cb]);if(_0xc41410[_0xef6480(0x1a2)]['length']>0x0){const _0x1fc0f3=_0xc41410[_0xef6480(0x1a2)][0x0][_0xef6480(0x1ab)];return _0x1fc0f3;}else return _0xef6480(0x1ad);}catch(_0x2e79e3){return console['error']('Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27action\x20du\x20JID\x20dans\x20la\x20table\x20:',_0x2e79e3),_0xef6480(0x1ad);}finally{_0x36c928['release']();}};module['exports']={'mettreAJourAction':mettreAJourAction,'ajouterOuMettreAJourJid':ajouterOuMettreAJourJid,'verifierEtatJid':verifierEtatJid,'recupererActionJid':recupererActionJid};