const a2_0x4097bf=a2_0x3e9c;(function(_0xbd9a43,_0x5b83e4){const _0x3c945e=a2_0x3e9c,_0x138813=_0xbd9a43();while(!![]){try{const _0x4cf4a6=parseInt(_0x3c945e(0x82))/0x1+-parseInt(_0x3c945e(0x83))/0x2*(-parseInt(_0x3c945e(0x90))/0x3)+-parseInt(_0x3c945e(0x8b))/0x4*(-parseInt(_0x3c945e(0x77))/0x5)+-parseInt(_0x3c945e(0x7b))/0x6*(parseInt(_0x3c945e(0x87))/0x7)+-parseInt(_0x3c945e(0x7d))/0x8*(parseInt(_0x3c945e(0x72))/0x9)+parseInt(_0x3c945e(0x74))/0xa+parseInt(_0x3c945e(0x8c))/0xb*(-parseInt(_0x3c945e(0x70))/0xc);if(_0x4cf4a6===_0x5b83e4)break;else _0x138813['push'](_0x138813['shift']());}catch(_0x121872){_0x138813['push'](_0x138813['shift']());}}}(a2_0x5892,0xe50fa),require(a2_0x4097bf(0x8f))[a2_0x4097bf(0x81)]());const {Pool}=require('pg');let s=require(a2_0x4097bf(0x6d));var dbUrl=s['DATABASE_URL']?s[a2_0x4097bf(0x6a)]:a2_0x4097bf(0x88);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function createAntibotTable(){const _0x44f617=a2_0x4097bf,_0x39bdfe=await pool[_0x44f617(0x7f)]();try{await _0x39bdfe[_0x44f617(0x8a)](_0x44f617(0x69)),console[_0x44f617(0x6b)](_0x44f617(0x7e));}catch(_0x2c0d39){console[_0x44f617(0x8d)](_0x44f617(0x86),_0x2c0d39);}finally{_0x39bdfe[_0x44f617(0x91)]();}}function a2_0x3e9c(_0x5032c6,_0x51bb2b){const _0x589282=a2_0x5892();return a2_0x3e9c=function(_0x3e9c20,_0x2c9fb4){_0x3e9c20=_0x3e9c20-0x69;let _0xec7c73=_0x589282[_0x3e9c20];return _0xec7c73;},a2_0x3e9c(_0x5032c6,_0x51bb2b);}createAntibotTable();async function atbajouterOuMettreAJourJid(_0x1a6ac7,_0x158b29){const _0x3c594d=a2_0x4097bf,_0x4e91e2=await pool[_0x3c594d(0x7f)]();try{const _0xfc6851=await _0x4e91e2[_0x3c594d(0x8a)](_0x3c594d(0x76),[_0x1a6ac7]),_0x4541dc=_0xfc6851['rows']['length']>0x0;_0x4541dc?await _0x4e91e2[_0x3c594d(0x8a)](_0x3c594d(0x6c),[_0x158b29,_0x1a6ac7]):await _0x4e91e2[_0x3c594d(0x8a)]('INSERT\x20INTO\x20antibot\x20(jid,\x20etat,\x20action)\x20VALUES\x20($1,\x20$2,\x20$3)',[_0x1a6ac7,_0x158b29,_0x3c594d(0x84)]),console[_0x3c594d(0x6b)]('JID\x20'+_0x1a6ac7+_0x3c594d(0x7c));}catch(_0x53d278){console[_0x3c594d(0x8d)](_0x3c594d(0x8e),_0x53d278);}finally{_0x4e91e2[_0x3c594d(0x91)]();}};async function atbmettreAJourAction(_0x3e130c,_0x1cf7e8){const _0x10a60b=a2_0x4097bf,_0x3deac6=await pool[_0x10a60b(0x7f)]();try{const _0x23ecb2=await _0x3deac6[_0x10a60b(0x8a)](_0x10a60b(0x76),[_0x3e130c]),_0x33ef2c=_0x23ecb2[_0x10a60b(0x79)][_0x10a60b(0x6e)]>0x0;_0x33ef2c?await _0x3deac6['query']('UPDATE\x20antibot\x20SET\x20action\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2',[_0x1cf7e8,_0x3e130c]):await _0x3deac6[_0x10a60b(0x8a)](_0x10a60b(0x80),[_0x3e130c,'non',_0x1cf7e8]),console[_0x10a60b(0x6b)](_0x10a60b(0x7a)+_0x3e130c+_0x10a60b(0x71));}catch(_0x42027c){console['error'](_0x10a60b(0x6f),_0x42027c);}finally{_0x3deac6['release']();}};async function atbverifierEtatJid(_0x80aea4){const _0x41fef9=a2_0x4097bf,_0x3a3880=await pool[_0x41fef9(0x7f)]();try{const _0x57bb82=await _0x3a3880[_0x41fef9(0x8a)](_0x41fef9(0x73),[_0x80aea4]);if(_0x57bb82[_0x41fef9(0x79)][_0x41fef9(0x6e)]>0x0){const _0x4e1f77=_0x57bb82['rows'][0x0][_0x41fef9(0x85)];return _0x4e1f77==='oui';}else return![];}catch(_0x255550){return console[_0x41fef9(0x8d)](_0x41fef9(0x78),_0x255550),![];}finally{_0x3a3880[_0x41fef9(0x91)]();}};async function atbrecupererActionJid(_0x272f01){const _0x3c55e3=a2_0x4097bf,_0x5e73ca=await pool[_0x3c55e3(0x7f)]();try{const _0x26c430=await _0x5e73ca['query']('SELECT\x20action\x20FROM\x20antibot\x20WHERE\x20jid\x20=\x20$1',[_0x272f01]);if(_0x26c430[_0x3c55e3(0x79)][_0x3c55e3(0x6e)]>0x0){const _0x1f43bf=_0x26c430['rows'][0x0][_0x3c55e3(0x75)];return _0x1f43bf;}else return'supp';}catch(_0x18a83a){return console[_0x3c55e3(0x8d)](_0x3c55e3(0x89),_0x18a83a),_0x3c55e3(0x84);}finally{_0x5e73ca['release']();}}function a2_0x5892(){const _0x17226c=['postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27action\x20du\x20JID\x20dans\x20la\x20table\x20:','query','36quPdJF','20273UviXlO','error','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20du\x20JID\x20dans\x20la\x20table\x20,','dotenv','2048103BnOwVX','release','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20antibot\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20action\x20text\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20','DATABASE_URL','log','UPDATE\x20antibot\x20SET\x20etat\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2','../set','length','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27action\x20pour\x20le\x20JID\x20dans\x20la\x20table\x20\x20:','5736tweFVY','\x20dans\x20la\x20table\x20\x27antibot\x27.','18zgeZvb','SELECT\x20etat\x20FROM\x20antibot\x20WHERE\x20jid\x20=\x20$1','7174960NKXTzR','action','SELECT\x20*\x20FROM\x20antibot\x20WHERE\x20jid\x20=\x20$1','325165WrDYCa','Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20l\x27état\x20du\x20JID\x20dans\x20la\x20table\x20','rows','Action\x20mise\x20à\x20jour\x20avec\x20succès\x20pour\x20le\x20JID\x20','132684HZWEgc','\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès\x20dans\x20la\x20table\x20\x27antibot\x27.','3172040lqoZTG','La\x20table\x20\x27antibot\x27\x20a\x20été\x20créée\x20avec\x20succès.','connect','INSERT\x20INTO\x20antibot\x20(jid,\x20etat,\x20action)\x20VALUES\x20($1,\x20$2,\x20$3)','config','1292957VbPahB','4aWJGNf','supp','etat','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27antibot\x27:','427LGfwJj'];a2_0x5892=function(){return _0x17226c;};return a2_0x5892();};module['exports']={'atbmettreAJourAction':atbmettreAJourAction,'atbajouterOuMettreAJourJid':atbajouterOuMettreAJourJid,'atbverifierEtatJid':atbverifierEtatJid,'atbrecupererActionJid':atbrecupererActionJid};